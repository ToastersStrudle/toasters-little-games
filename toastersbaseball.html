<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Toaster Baseball</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #c2f0c2;
      overflow: hidden;
      font-family: sans-serif;
    }
    canvas {
      display: block;
      margin: 0 auto;
      background: #7ec850;
      border: 4px solid #444;
    }
    #scoreboard {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      font-size: 24px;
      background: rgba(0,0,0,0.5);
      padding: 10px 20px;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <div id="scoreboard">Strikes: 0 | Outs: 0 | Score: 0</div>
  <canvas id="gameCanvas" width="800" height="500"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const toasterImg = new Image();
    toasterImg.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/9/90/Toaster.png/240px-Toaster.png';

    let ball = { x: 400, y: 100, vx: 0, vy: 0, radius: 8, active: false };
    let strikeZone = { x: 370, y: 350, w: 60, h: 40 };
    let strikes = 0, outs = 0, score = 0;
    let isSwinging = false;

    function pitchBall() {
      if (ball.active) return;
      ball.x = 400;
      ball.y = 100;
      ball.vx = (Math.random() - 0.5) * 2;
      ball.vy = 5 + Math.random() * 2;
      ball.active = true;
    }

    function updateBall() {
      if (!ball.active) return;
      ball.x += ball.vx;
      ball.y += ball.vy;

      if (ball.y > canvas.height) {
        ball.active = false;
        strikes++;
        if (strikes >= 3) {
          outs++;
          strikes = 0;
        }
      }

      if (isSwinging && ball.y > strikeZone.y && ball.y < strikeZone.y + strikeZone.h &&
          ball.x > strikeZone.x && ball.x < strikeZone.x + strikeZone.w) {
        ball.active = false;
        const result = Math.random();
        if (result < 0.3) {
          logHit("Foul!");
        } else if (result < 0.6) {
          logHit("Single!");
          score += 1;
        } else if (result < 0.85) {
          logHit("Double!");
          score += 2;
        } else {
          logHit("Home Run!");
          score += 4;
        }
        strikes = 0;
      }
    }

    function logHit(msg) {
      const text = document.createElement('div');
      text.innerText = msg;
      text.style.position = 'absolute';
      text.style.top = '60px';
      text.style.left = '50%';
      text.style.transform = 'translateX(-50%)';
      text.style.color = '#fff';
      text.style.fontSize = '28px';
      text.style.fontWeight = 'bold';
      text.style.background = 'rgba(0,0,0,0.6)';
      text.style.padding = '10px 20px';
      text.style.borderRadius = '10px';
      document.body.appendChild(text);
      setTimeout(() => text.remove(), 1500);
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // field
      ctx.fillStyle = '#4CAF50';
      ctx.fillRect(0, 400, canvas.width, 100);
      ctx.fillStyle = '#fff';
      ctx.fillRect(strikeZone.x, strikeZone.y, strikeZone.w, strikeZone.h);

      // toaster batter
      ctx.drawImage(toasterImg, 360, 370, 80, 80);

      // ball
      if (ball.active) {
        ctx.beginPath();
        ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
        ctx.fillStyle = 'white';
        ctx.fill();
        ctx.strokeStyle = 'black';
        ctx.stroke();
      }

      document.getElementById('scoreboard').innerText = `Strikes: ${strikes} | Outs: ${outs} | Score: ${score}`;
    }

    function gameLoop() {
      updateBall();
      draw();
      requestAnimationFrame(gameLoop);
    }

    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space') {
        isSwinging = true;
        setTimeout(() => isSwinging = false, 150);
      } else if (e.code === 'KeyP') {
        pitchBall();
      }
    });

    toasterImg.onload = () => {
      gameLoop();
    };
  </script>
</body>
</html>
